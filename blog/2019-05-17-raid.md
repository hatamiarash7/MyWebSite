---
id: what-is-raid
author: آرش حاتمی
author_title: DevOps - Network Eng
author_url: https://github.com/hatamiarash7
author_image_url: https://avatars1.githubusercontent.com/u/16325641?v=4
title: "آشنایی با RAID و نحوه استفاده از آن"
tags: [raid]
---

![image](/img/blog/3.jpg)

RAID از فناوری‌های مرتبط با ذخیره‌سازی اطلاعات به شمار می‌رود که در این پست بیشتر با آن آشنا خواهیم شد

<!--truncate-->

## RAID چیست؟

RAID یا Redundant Array of Independant Disks به معنای آرایه‌ی افزونه از دیسک‌های مستقل است. این عبارت در نگاه اول بسیار نامأنوس به‌نظر می‌رسد، اما درک این فناوری ساده‌تر از آن است که فکرش را می‌کنید. هدف اصلی RAID ذخیره داده‌های یکسان در دیسک‌های متفاوت برای جلوگیری از از دست رفتن داده‌ها به هنگام وقوع آسیب و کرش در دیسک‌ها است.

## تاریخچه RAID

RAID نخستین بار در سال ۱۹۸۷ توسط دیوید پترسون، رندی کتز و گارث گیبسون مطرح شد. این افراد ۶ حالت RAID با ویژگی‌های متفاوت (که از ۰ تا ۵ نام‌گذاری شدند) در نظر داشتند که البته امروزه تعداد حالات RAID افزایش یافته‌ است.

البته استفاده از دیسک‌های افزونه پیش از این هم مورد بحث قرار گرفته بود. IBM در سال ۱۹۷۷ پتنتی در این زمینه ثبت کرد که بعدها RAID 4 نام گرفت. در سال ۱۹۸۳ شرکت Digital Equipment درایوهایی با قابلیت RAID 1 را به بازار عرضه کرد. در سال ۱۹۸۶ ، IBM پتنت دیگری ثبت نمود که امروزه RAID 5 شناخته می‌شود.

## RAID چگونه کار می‌کند؟

RAID با قرار دادن داده درون چندین دیسک کار می‌کند. با اجازه ورود و خروج اطلاعات از تمامی این دیسک‌ها عملکرد و سرعت افزایش پیدا می‌کند. با استفاده از چند دیسک، خطاپذیری افزایش یافته و از دست دادن اطلاعات کمتر رخ می‌دهد.

آرایه‌های RAID نزد سیستم عامل به‌صورت یک دیسک منطقی در نظر گرفته می‌شود و شما هر دیسک را به‌طور مستقل مشاهده نمی‌کنید. محدوده‌ی حجم واحدهای تقسیم اطلاعات در RAID از ۵۱۲ بایت شروع شده و به چند مگابایت می‌رسد.

## کنترلر RAID

یک کنترلر RAID به‌عنوان واسطی میان سیستم عامل و دیسک‌های فیزیکی عمل کرده و گروه دیسک‌ها را به‌عنوان واحد‌های منطقی به سیستم‌عامل ارائه می‌کند. استفاده از یک کنترلر RAID کارایی را بهبود داده و موجب حفاظت از اطلاعات هنگام کرش می‌شود.

کنترلر RAID می‌تواند هم سخت‌افزاری و هم نرم‌افزاری باشد. در کنترلر سخت‌افزاری، یک کنترلر فیزیکی آرایه را مدیریت می‌کند. این کنترلر فیزیکی می‌تواند به فرم یک کارت PCI Express باشد و به‌گونه‌ای طراحی شده‌ باشد که از فرمت‌های SATA و SCSI پشتیبانی کند. کنترلر فیزیکی ممکن است بخشی از مادربرد (motherboard) نیز باشد.

کنترلر نرم‌افزاری از منابع سخت‌افزاری سیستم برای انجام وظیفه خود استفاده می‌کنند، اما به اندازه‌ی کنترلر سخت‌افزاری عملکرد را افزایش نمی‌دهد.

![image](/img/blog/4.jpg)

اگر کنترلرهای نرم‌افزاری با سیستم سازگار نیستند و کنترلرهای سخت‌افزاری قیمت گزافی دارند، استفاده از RAID مبتنی بر سیستم عامل یا درایور پیشنهاد می‌شود.

در این نوع کنترلر، چیپ کنترلر بر روی مادربرد تعبیه شده و تمامی اعمال توسط CPU انجام می‌شود. تا اینجای کار، این کنترلر مشابه کنترلر نرم‌افزاری عمل می‌کند؛ اما تفاوت در این است که این کنترلر پس از بالا آمدن سیستم کارکرد RAID را زیر نظر می‌گیرد. این کنترلر قیمت کنترلرهای سخت‌افزاری را نداشته و کارایی بالاتری نسبت به کنترلرهای نرم‌افزاری دارد.
انواع RAID

استفاده از RAID به روش‌های متنوعی امکان پذیر است. هرکدام از این روش‌ها کارایی و حفاظت از اطلاعات مخصوص به خود را به ارمغان می‌آورد. انواع زیر پراستفاده‌تر و مطرح‌ترند:

-   RAID 0
-   RAID 1
-   RAID 5
-   RAID 10

## RAID 0

در این حالت اطلاعات ذخیره‌شده بین دیسک‌های شما تقسیم یا به اصطلاح «راه راه» می‌شوند؛ برای مثال اگر دو دیسک داشته باشیم، نصف اطلاعات روی یک دیسک و نصف دیگر روی دیسک دیگر ذخیره می‌شوند. فرض کنید سیستم بخواهد داده‌ی «100111» را در این حالت ذخیره کند؛ اولین یک، دومین صفر و سومین یک در دیسک ۱ و مابقی در دیسک ۲ ذخیره می‌شود و در نهایت در دیسک ۱ «101» و دیسک ۲ «011» ذخیره خواهد شد.

![image](/img/blog/5.jpg)

### مزایای RAID 0

-   افزایش سرعت خواندن و نوشتن
-   قابل استفاده بودن کل حجم دیسک‌ها
-   تعداد کم دیسک‌های مورد نیاز
-   آسانی در اجرا

### معایب RAID 0

-   اگر هر کدام از دیسک‌ها آسیب ببیند و اطلاعات آن از دست برود، عملاً کل اطلاعات از دست رفته‌ است.
-   با آسیب یک دیسک، احتمال ایجاد Bad Sector و آسیب در دیسک دیگر بالا می‌رود.

### استفاده ایده‌آل

RAID 0 برای استفاده‌های حساس اصلاً مناسب نیست، در عوض به‌علت سرعت بالای آن در کارهایی مثل ویرایش تصاویر و ویدیوها مفید خواهد بود.

## RAID 1

در این حالت اطلاعات در دیسک‌های شما مانند هم نوشته می‌شوند و دیسک‌های شما دقیقاً حاوی اطلاعات مشابه‌اند. برای مثال داده‌ی «1001» در این حالت، به‌صورت «1001» در همه‌ی دیسک‌ها ذخیره خواهد شد.

![image](/img/blog/6.jpg)

### مزایای RAID 1

-   حفاظت بیشتر از اطلاعات
-   در صورت از دست دادن اطلاعات یک دیسک مشکلی برای خوانش اطلاعات به‌وجود نمی‌آید
-   امکان اضافه کردن دیسک جدید به RAID و ایجاد دیسک مشابه به‌طور خودکار
-   امکان حذف دیسک از مجموعه دیسک‌ها و استفاده به‌طور مستقل

### معایب RAID 1

-   سرعت پایین‌تر نسبت به RAID 0
-   حجم قابل استفاده برابر با نصف حجم مجموع است.
-   با آسیب یک دیسک، احتمال ایجاد Bad Sector و آسیب در دیسک دیگر بالا می‌رود.

### استفاده ایده‌آل

از RAID 1 می‌توان در سیستم‌های حسابداری و سرورهای کوچک استفاده نمود.

## RAID 5

این حالت از RAID تلاش می‌‌کند تا بهترین‌های RAID 0 و RAID 1 را برای شما فراهم کند؛ افزایش سرعت بدون افزایش ریسک از دست‌دادن اطلاعات. برای استفاده از این حالت باید حداقل سه دیسک داشته باشید. دو دیسک مانند RAID 0 نوشته شده و داده‌ها بین این دو تقسیم می‌شوند. سپس در دیسک سوم بیت‌های توازن (parity) نوشته می‌شود. بیت توازن بیتی است برای نشان‌دادن زوج یا فرد بودن تعداد یک و به کمک این داده، در صورت از دست دادن هرکدام از دیسک‌ها سیستم می‌تواند با داده‌های دو دیسک دیگر دیسک جدید را ایجاد کند و اطلاعات بدون آسیب باقی می‌مانند.

![image](/img/blog/7.jpg)

### مزایای RAID 5

-   نداشتن مشکلات RAID 0 و RAID 1
-   سرعت خوانش بالا
-   افزایش حفاظت از اطلاعات

### معایب RAID 5

-   تعداد حداقل دیسک مورد نیاز بیشتر نسبت به RAID 0 و RAID 1

### استفاده ایده‌آل

RAID 5 به‌علت سرعت و پایداری مناسب برای سرورهایی که تعداد دیسک‌های محدودی دارند، مناسب است.

## RAID 10

این حالت در واقع RAID 1+0 است. در این حالت ابتدا داده‌ها بین یک جفت دیسک مانند RAID 0 تقسیم شده و سپس این جفت دیسک مانند RAID 1 روی یک جفت دیسک دیگر نوشته می‌شوند. البته ممکن است این عمل به ترتیب معکوس انجام شود که در نتیجه تغییری حاصل نمی‎شود. در این حالت حداقل به چهار دیسک نیاز است.

![image](/img/blog/8.jpg)

### مزایای RAID 10

-   نداشتن مشکلات RAID 0 و RAID 1
-   افزایش حفاظت از اطلاعات
-   بازسازی بسیار سریع تر اطلاعات نسبت به RAID 5
-   سرعت خواندن و نوشتن بالاتر نسبت به RAID 5

### معایب RAID 10

-   تعداد حداقل دیسک مورد نیاز بیشتر نسبت به RAID 0 ، RAID 1 و RAID 5
-   تعداد دیسک غیرقابل استفاده بیشتر نسبت به RAID 5 و اختلاف قابل توجه حجم قابل استفاده در تعداد بالا

## چگونه از RAID استفاده کنیم؟

دقت کنید که بهتر است در RAID، از دیسک‌هایی با حجم یکسان استفاده شود تا از وقوع مشکلات احتمالی ناشی از یکسان نبودن حجم دیسک‌ها، جلوگیری شود. همچنین اگر دیسک‌های شما حاوی فایل‌های مهم است حتما از آن پشتیبان (Backup) تهیه کنید.

### روش سخت‌افزاری

این روش با توجه به سرعت و عملکرد بهتر نسبت به روش نرم‌افزاری، پیشنهاد می‌شود. در ابتدا باید ببینید که مادربرد شما از RAID پشتیبانی می‌کند یا خیر. برای این کار کافیست وارد BIOS خود شده (معمولاً کلید F2 در ابتدای بالا آمدن سیستم) و به دنبال بخش مربوط به RAID بگردید. اگر این بخش وجود نداشت، باید یک آداپتور RAID تهیه کرده و آن‌ را روی مادربورد خود نصب کنید.

## تنظیم RAID

هر آداپتور RAID یک برنامه تنظیمی مخصوص به خود برای انتخاب نوع RAID و دیسک‌ها دارد. گاهاً این تنظیمات در بخش BIOS یافت می‌شود. با رجوع به راهنمای مادربرد و آداپتور RAID در این رابطه می‌توانید اطلاعات بیشتری کسب کنید.

-   معمولاْ با فشار دادن دکمه‌های Ctrl+R یا Ctrl+A هنگام بوت، وارد تنظیمات RAID می‌شوید.
-   اگر RAID در داخل BIOS قرار داشت (همانند بسیاری از مادربردهای اینتل) باید هنگام بوت وارد BIOS شوید که معمولا با F2، Ctrl+S و Del انجام می‌شود.
-   در صورت انتخاب RAID 0 یا RAID 5 از شما انتخاب اندازه هر واحد پرسیده می‌شود که بهتر است روی حالت پیش‌فرض (Default) قرار دهید. می‌توانید به‌طور تجربی و با استفاده از اعداد مختلف، کارایی RAID را بالا ببرید.

برای نصب ویندوز روی RAID (ویندوز ویستا به بالا) به نکات زیر توجه کنید:

-   نصب Custom (Advanced) را انتخاب کنید.
-   اگر هنگام انتخاب درایور نصب ویندوز، RAID را مشاهده نکردید، روی Load Driver در بخش پایینی کلیک کنید.

## استفاده از RAID نرم‌افزاری (RAID ارائه‌شده در ویندوز)

ویندوز XP، ویستا (Vista)، هفت (7)، هشت (8) و ده (10)، همگی RAID نرم‌افزاری ارائه می‌دهند که جایگزینی برای حالت سخت‌افزاری بوده و استفاده از آن راحت است.

روند زیر را دنبال کنید تا از RAID ویندوز استفاده کنید:

۱. روی Computer راست کلیک کرده و Manage را انتخاب کنید.

۲. روی Disk Management که در زیرمجموعه Storage قرار دارد کلیک کنید.

۳. روی تصویر درایو بزرگ در چپ، راست‌کلیک کرده تا عملگرهایی را مشاهده کنید که روی کل دیسک تاثیر می‌گذارند. تنها گزینه‌هایی که روی دیسک شما ممکن‌اند، فعال هستند. در بعضی مواقع اگر دیسک شما پویا (Dynamic) نباشد، پیغامی نمایش داده می‌شود که با دنبال کردن دستورات، دیسک شما به‌طور خودکار تبدیل به دیسک پویا می‌شود.

۴. روی دیسک‌های دینامیک راست‌کلیک کرده و گزینه‌ای برای کپی تمام اطلاعات مشابه RAID 1 مشاهده می‌کنید (این قابلیت تنها در ویندوز ۷ نسخه‌های Professional و Ultimate، ویندوز ۲۰۰۰ Ultimate و ویندوز سرور وجود دارد).

## استفاده از RAID در ویندوز ۱۰

۱. ابتدا از در نوار جستجوی ویندوز کنار استارت بنویسید Storage Spaces.

۲. در پنجره‌ی بازشده، Create a new pool and storage space را انتخاب کنید. ویندوز، تمامی درایوها را در پنجره بعدی انتخاب می‌کند.

۳. در بخش Resiliency نوع RAID را تعیین کنید. گزینه‌های two-way mirror و three-way mirror مشابه RAID 1 بوده و Parity مشابه RAID 5 است.

۴. اگر لازم بود، اندازه درایو را تعیین کنید. به‌طور پیشفرض مقدار صحیح انتخاب می‌شود.

۵. Create storage space را انتخاب کنید.

۶. صبر کنید تا پروسه کامل شود.

۷. برای مدیریت آرایه در نوار جستجو Manage Storage Spaces را بنویسید.

## آینده RAID

اگرچه RAID همچنان مورد استفاده قرار می‌گیرد، اما بسیاری از تحلیل‌گران اعتقاد دارند که با ظهور تکنولوژی‌های جایگزینی مثل erasure coding که حفاظت از اطلاعات بهتری را ارائه می‌دهند (البته با هزینه بالاتر)، RAID رو به افول است. این تکنولوژی‌ها با تمرکز بر رفع مشکلات RAID در حال توسعه‌اند؛ مشکلاتی نظیر حفاظت اطلاعات و افزایش احتمال خطا با افزایش تعداد دیسک‌ها.

ظهور درایو‌های حالت جامد (SSD) نیاز به RAID را کاهش داده‌اند. SSDها هیچ جزء متحرکی نداشته و به همین دلیل مشکلات ناپایداری هارد دیسک‌ها را ندارد. آرایه‌های SSD معمولا از تکنیک‌هایی نظیر Wear Leveling به‌جای RAID برای حفاظت از اطلاعات استفاده می‌کند. Hyperscale computing نیز نیاز به RAID را با استفاده از سرورها به جای درایوها از بین می‌برد.

با این حال، RAID همچنان به‌عنوان عضو جداناشدنی ذخیره‌ی اطلاعات به شمار می‌رود و شرکت‌های بزرگ فناوری همچنان محصولات RAID را عرضه می‌کنند. IBM، محصول RAID مخصوص خود را به همراه Spectrum Virtualize V7.6 و با وعده‌ی بهبود عملکرد RAID عرضه کرده‌ است. آخرین نسخه از فناوری Intel Rapid Storage از RAID 0، RAID 1، RAID 5 و RAID 10 پشتیبانی می‌کند. نرم‌افزار مدیریت NetApp ONTAP از RAID برای حفاظت از داده‌ها در برابر از دست‌دادن هم‌زمان حداکثر ۳ درایو استفاده می‌کند. پلتفرم یکپارچه Dell EMC نیز از RAID 0، RAID 1، RAID 5 و RAID 6 پشتیبانی می‌کند.
