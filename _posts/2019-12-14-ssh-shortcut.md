---
layout: post
title: "ایجاد میانبر برای دستورات SSH"
date: 2019-12-14 18:05
excerpt: "در صورتی که سرور های مختلفی داشته باشید ، به خاطر سپردن آی پی آنها کار دشواری است. می توانیم به جای این کار ، با استفاده از اسامی به سرور متصل شویم"
tags: [ssh, ssh shortcut, میانبر ssh, آموزش]
comments: false
---

در صورتی که سرور های مختلفی داشته باشید ، به خاطر سپردن آی پی آنها کار دشواری است. می توانیم به جای این کار ، با استفاده از اسامی به سرور متصل شویم

![tooltip](/assets/img/posts/57.webp)

در این روش ، به ازای هر سرور می توانیم تنظیماتی را روی کلاینت خود ایجاد کنید تا روند اتصال به صورت خودکار انجام شود ( مانند PuTTY که کانکشن ها را ذخیره می کند ).
فرض کنید مانند تنظیم کردن فایل hosts سیستم عامل خود که به جای هر آدرس آی پی یک دامنه تنظیم میکنید ، اینجا نیز به ازای هر دستور یک نام تنظیم می کنیم.

برای این کار فایل config مربوط به SSH را سمت کلاینت خود ویرایش کنید

ویندوز : 

```
C:/Users/<user>/.ssh/config
```

macOS : 

```
/Users/<user>/.ssh/config
```

لینوکس :

```
~/.ssh/config
```

* در صورتی که فایل config وجود ندارد آن را ایجاد کرده و دسترسی آن را به 600 تغییر دهید

```
chmod 600 ~/.ssh/config
```

### اعمال تنظیمات

برای کلاینت خود تنظیمات مختلفی می توانید انجام دهید که لیست تمام آن ها را از [سایت رسمی OpenBSD](http://man.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/ssh_config.5?query=ssh_config%26sec=5){:target="_blank"} می توانید مشاهده کنید.

در زیر چند نمونه از میانبر های تعریف شده را مشاهده می کنید :

```
Host scotch
    HostName scotch.io
    User nick

Host example2
    HostName example.com
    User root

Host example3
    HostName 64.233.160.0
    User userxyz123
    Port 56000

Host amazon1
    HostName ec2.amazon.com
    User ec2-user
    IdentityFile /path/to/special/privatekey/amazon.pem
```

* هر میانبر ( shortcut - alias ) توسط کلمه Host مشخص می شود.
* در زیر مجموعه هر هاست با عبارت HostName می توانید آدرس آی پی یا دامنه سرور خود را تعریف کنید ( چه محلی چه اینترنتی )
* با عبارت User نام کاربری مورد نظر برای ورود از طریق SSH را تنظیم کنید
* در صورتی که از پورت متفاوتی برای ورود استفاده می کنید می توانید با عبارت Port آن را تنظیم کنید
* در صورتی که برای ورود از نام کاربری و کلمه عبور استفاده نمی کنید و در عوض از طریق SSH-Key ها وارد می شوید ، کلید خصوصی را با عبارت IdentityFile  تنظیم کنید

جهت مطالعه بیشتر جهت ایمن کردن سرور SSH به [این پست](/secure-ssh){:target="_blank"} مراجعه کنید

### روش استفاده

بعد از تنظیم کردن میانبر های خود حالا می توانید با استفاده از اسامی آن ها به سرور خود متصل شوید :

```
ssh scotch
ssh example2
ssh example3
ssh amazon1
```
